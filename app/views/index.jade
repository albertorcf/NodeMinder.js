extends base

block stylesheets
  link(rel='stylesheet', href='/stylesheets/style.css')

block content
  p
    a(href='/grid', target='_blank') Show grid
  table#cameras
    thead
      tr.head
        th Image
        th Camera
        th Description
        th Driver
        th Fps
        th Rec
        th Rec<br />fps
        th
        th.black
        - if (cameras.length > 1)
          th Image
          th Camera
          th Description
          th Driver
          th Fps
          th Rec
          th Rec<br />fps
          th
    tbody
      - var j = 0
      - var rec = ['-','detect','ON']
      - for (var i=0; i<cameras.length; )
        - if (cameras[i])
          - var cam = cameras[i++]
          tr(class=(j++%2) ? 'even' : 'odd')
            td
              img.thumb(src="/images/thumbnails/#{cam.id}_96x72.jpg", width="72", height="54") // 64x48
            td #{cam.id}
            td #{cam.descr}
            td #{cam.driver.id}
            td #{cam.fps.local}
            td #{rec[cam.recording.on]}
            td #{cam.recording.fps}
            td
              a(href='/view/#{cam.id}', target='_blank') View
              br
              a(href='/events/#{cam.id}') Events
              br
              a(href='/config/#{cam.id}') Config
            td.black
            - if (cameras[i])
              - var cam = cameras[i++]
              td
                img.thumb(src="/images/thumbnails/#{cam.id}_96x72.jpg", width="72", height="54") // 64x48
              td #{cam.id}
              td #{cam.descr}
              td #{cam.driver.id}
              td #{cam.fps.local}
              td #{rec[cam.recording.on]}
              td #{cam.recording.fps}
              td
                a(href='/view/#{cam.id}', target='_blank') View
                br
                a(href='/events/#{cam.id}') Events
                br
                a(href='/config/#{cam.id}') Config

  p
    a(href='/thumbnails') Thumbnails 
            